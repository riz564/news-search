{
  "openapi": "3.0.3",
  "info": {
    "title": "News Search Microservice",
    "version": "1.0.0",
    "description": "Aggregates The Guardian + NYTimes. Pagination, offline mode, HATEOAS."
  },
  "paths": {
    "/search": {
      "get": {
        "summary": "Search news",
        "parameters": [
          {"name": "query", "in": "query", "required": true, "schema": {"type": "string"}},
          {"name": "page", "in": "query", "required": false, "schema": {"type": "integer", "default": 1, "minimum": 1}},
          {"name": "page_size", "in": "query", "required": false, "schema": {"type": "integer", "default": 10, "minimum": 1, "maximum": 50}},
          {"name": "city", "in": "query", "required": false, "schema": {"type": "string"}},
          {"name": "offline", "in": "query", "required": false, "schema": {"type": "integer", "enum": [0,1], "default": 0}}
        ],
        "responses": {
          "200": {"description": "OK"},
          "400": {"description": "Missing query"}
        }
      }
    },
    "/openapi.json": { "get": { "summary": "OpenAPI JSON", "responses": { "200": { "description": "Spec" } } } },
    "/health": { "get": { "summary": "Healthcheck", "responses": { "200": { "description": "OK" } } } }
  }
}
